<div class="container">
	<div class="row">
		<div class="col-md-10">
			<h1>Academy Details</h1>
		</div>
		<div class="col-md-2">
			<%= link_to "New Assignment", new_academy_assignment_path(@academy), class: "btn btn-primary" %>
		</div>
	</div>
	<% if @academy.present? %>
		<div id="academy_detail_contents">
			<div class="own_academies">
				<div class="row">
					<div class="col-md-6">
						<h3><strong>Owned Academies</strong></h3>
					</div>
				</div>
			  <div class="row">
			  	<div class="col-md-3">
			  		Academy Name: <%= @academy.name %>
			  	</div>
		  	</div>
			 	<div class="row">
			 		Description: <%= @academy.description %>
			 	</div>
			</div>
		</div>
		<% if @assignments.present? %>
			<div class="assignments">
				<div class="row">
					<div class="col-md-6">
						<h3><strong>Assignments</strong></h3>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<th>Index</th>
						<th>Assignment Title</th>
						<th>Academy Name</th>
						<th>Assignment completion count</th>
						<th>Assignment not completion count</th>
						<th>Action</th>
					</thead>
					<tbody>
						<% @assignments.each_with_index do |assignment, index| %>
							<tr>
								<td><%= index+1 %>.</td>
								<td><%= assignment.title %></td>
								<td><%= assignment.academy.name %></td>
								<td><%= 0 %></td>
								<td><%= 0 %></td>
								<td><%= link_to "Edit", edit_academy_assignment_path(assignment.academy, assignment) %></td>
							</tr>
						<% end %>
					</tbody>
				</table>
			</div>
		<% end %>

		<% if @students.present? %>
			<div class="students">
				<div class="row">
					<div class="col-md-6">
						<h3><strong>Students</strong></h3>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<th>Index</th>
						<th>Student Name</th>
						<th>Total Purchases</th>
						<th>Total Sales</th>
						<th>Total Earning</th>
						<th>Action</th>
					</thead>
					<tbody>
						<% @students.each_with_index do |student, index| %>
							<tr>
								<td><%= index+1 %>.</td>
								<td><%= student.full_name %></td>
								<td><%=  %></td>
								<td><%=  %></td>
								<td><%=  %></td>
								<td><%= link_to "Delete", remove_users_academy_path(@academy, user_id: student.id), method: :delete %></td>
							</tr>
						<% end %>
					</tbody>
				</table>
			</div>
		<% end %>

		<% if @moderators.present? %>
			<div class="moderators">
				<div class="row">
					<div class="col-md-6">
						<h3><strong>Moderators</strong></h3>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<th>Index</th>
						<th>Moderator Name</th>
						<th>Action</th>
					</thead>
					<tbody>
						<% @moderators.each_with_index do |moderator, index| %>
							<tr>
								<td><%= index+1 %>.</td>
								<td><%= moderator.full_name %></td>
								<td><%= link_to "Delete", remove_users_academy_path(@academy, user_id: moderator.id), method: :delete %></td>
							</tr>
						<% end %>
					</tbody>
				</table>
			</div>
		<% end %>

		<% if @student_requests.present? %>
			<div class="student_requests">
				<div class="row">
					<div class="col-md-6">
						<h3><strong>User Requests</strong></h3>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<th>Index</th>
						<th>Academy Name</th>
						<th>User Name</th>
						<th>Action</th>
					</thead>
					<tbody>
						<% @student_requests.each_with_index do |request, index| %>
							<tr>
								<td><%= index+1 %>.</td>
								<td><%= request.academy.name %></td>
								<td><%= request.user.full_name %></td>
								<td><%= link_to "Accept", approve_registration_request_academy_path(reg), remote: true  %> | <%= link_to "Decline", remove_registration_request_academy_path(reg), method: :delete, remote: true %></td>
							</tr>
						<% end %>
					</tbody>
				</table>
			</div>
		<% end %>

		<% if @moderator_requests.present? %>
			<div class="moderator_requests">
				<div class="row">
					<div class="col-md-6">
						<h3><strong>Moderator Requests</strong></h3>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<th>Index</th>
						<th>Academy Name</th>
						<th>User Name</th>
						<th>Action</th>
					</thead>
					<tbody>
						<% @moderator_requests.each_with_index do |request, index| %>
							<tr>
								<td><%= index+1 %>.</td>
								<td><%= request.academy.name %></td>
								<td><%= request.user.full_name %></td>
								<td><%= link_to "Accept", approve_registration_request_academy_path(reg), remote: true  %> | <%= link_to "Decline", remove_registration_request_academy_path(reg), method: :delete, remote: true %></td>
							</tr>
						<% end %>
					</tbody>
				</table>
			</div>
		<% end %>
	<% end %>		
</div>	